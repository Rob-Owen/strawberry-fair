# Strawberry Fair Website

## Overview

This is source code for the Cambridge Strawberry Fair website. 

This frontend is a static site generated by [Gatsby](https://www.gatsbyjs.org/). Content is managed via [NetlifyCMS](https://www.netlifycms.org/).

## Local Development Setup

Prerequisites:
* Node v12.13 or higher
* npm 6.13.0 or higher
* gatsby cli (`npm install -g gatsby-cli`)

Checkout the source code and run the following from this directory:
1. `npm ci`
2. `npm start`

Gatsby will build and run the site in develop mode. When complete, the site will be accessing at `localhost:8000`.

## CMS

If you are running locally and you need to access the CMS, go into `static/admin/config.yml` and change

```
backend:
  name: git-gateway
  accept_roles:
    - admin
    - content
```

to

```
backend:
  name: github
  repo: Softwire/strawberry-fair
  branch: [ YOUR BRANCH HERE ]
```

ensuring you include the name of the branch you're working on.

**_Make sure you change it back before merging anything back into master._**

### 1. Adding Google Forms via CMS:
    To add a Google Form via CMS follow these steps:
      1. Open the form on Google Forms
      2. Click send on the top right corner
      3. Select the "Send via <>" option.
      4. Click "copy" on the bottom left corner.
      5. On a new tab, go to `localhost:8000/admin`
      6. Create a new Form page
      7. Paste into the "Form" box
      8. Fill in the remaining boxes.
      9. Click "Publish" on the top righ corner.

      Alternatively, in step 4 you can choose to copy the URL only, instead of the whole HTML element.


